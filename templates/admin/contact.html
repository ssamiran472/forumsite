{% extends "admin/adminbase.html" %}
{% load static %}

{% block css %}
<link rel = "stylesheet" type = "text/css" href = "{% static 'datatable/css/jquery.dataTables.css' %}"/>
{% endblock %}

{% block title %} Contact {% endblock %}
{% block pagetitle %} Contact {% endblock %}

{% block content %}
<div class="table-responsive">
<table id = "table" class = "table table-striped table-bordered">
    <thead class = "thead-light">
        <tr>
            <th>ID</th>
            <th>Subject</th>
            <th>Name</th>
            <th>Email</th>
            <th>Submit time</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        {% for msg in messages %}
        <tr>
            <td>{{ forloop.counter }}</td>
            <td>
                {% if msg.isRead == False %}
                <span class="badge badge-pill badge-danger">New</span>
                {% endif %}
                {{ msg.subject }}
            </td>
            <td>{{ msg.name }}</td>
            <td>{{ msg.email_address }}</td>
            <td>{{ msg.submit_date }}</td>
            <td><button type="button" class="btn btn-primary btn-sm">View</button></td>
        </tr>
       {% endfor %}
    </tbody>
</table>
</div>

{% endblock %}

{% block javascript %}
<script src = "{% static 'datatable/js/jquery-3.2.1.js' %}"></script>
<script src = "{% static 'datatable/js/jquery.dataTables.js' %}"></script>
<script type = "text/javascript">
    $(document).ready(function(){
        $('#table').DataTable();
    });
</script>
{% endblock %}